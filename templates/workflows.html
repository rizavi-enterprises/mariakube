{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1>Workflows</h1>

    <!-- Form to Input Command -->
    <form method="POST">
        <label for="command">Enter Command:</label>
        <input type="text" id="command" name="command" value="{{ command }}" required>
        <br>
        <button type="submit">Run Command</button>
    </form>

    <!-- Reset Workflows Button -->
    <form method="POST" action="{{ url_for('reset_workflows') }}" style="margin-top: 10px;">
        <button type="submit" class="reset-button">Reset Workflows</button>
    </form>

    <!-- Display Command Output -->
    {% if output %}
        <h2>Command Output</h2>
        <div class="output">
            <pre>{{ output }}</pre>
        </div>
    {% endif %}

    <!-- Display Command Log -->
    <h2>Command Log</h2>
    <div class="command-log">
        {% for entry in command_log %}
            <div class="log-entry">
                <strong>Command:</strong> {{ entry.command }}<br>
                <strong>Output:</strong>
                <pre>{{ entry.output }}</pre>
            </div>
        {% endfor %}
    </div>
</div>
<a href="{{ url_for('dashboard') }}" class="dashboard-button">Back to Dashboard</a>
{% endblock %}
